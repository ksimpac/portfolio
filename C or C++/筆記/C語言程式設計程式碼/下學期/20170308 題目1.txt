#include <stdio.h>
#include <stdlib.h>

struct employee
{
	char firstname[20];
	char lastname[20];
	int age;
	char gender;
	double salary;
};

void print_data(struct employee data[],int); //氣泡排序法
void sort(struct employee data[], int); //印出資料

int main(void)
{
	struct employee data[5]; //要修改的資料
	struct employee data1[5]; //儲存修改前的資料
	int max = 5;
	char a;

	for (int i = 0; i < max; i++) //輸入資料
	{
		printf("請輸入第%d位員工資料\n\n",i+1);
		printf("第%d位員工名子:", i + 1);
		scanf_s("%s", data[i].firstname,20);
		printf("第%d位員工姓氏:", i + 1);
		scanf_s("%s", data[i].lastname,20);
		printf("第%d位員工年齡:", i + 1);
		scanf_s("%d", &data[i].age);
		scanf_s("%c", &a);
		printf("第%d位員工性別:", i + 1);
		scanf_s("%c", &data[i].gender,1);
		printf("第%d位員工薪水:", i + 1);
		scanf_s("%lf", &data[i].salary);
		printf("\n");
	}

	for (int i = 0; i < max; i++) //將輸入的資料複製至data1陣列
	{
		data1[i] = data[i];
	}
	
	sort(data, max);
	printf("印出排序後資料\n\n");
	print_data(data, max);
	printf("印出排序前資料\n\n");
	print_data(data1, max);
	system("PAUSE");
	return 0;
}

void sort(struct employee data[],int max) //氣泡排序法
{
	struct employee temp; //暫存用

	for (int i = 0; i < max; i++) //最多max - 1"輪"的兩兩比較
	{
		for (int j = 0; j < max - i - 1; j++) //每跑一次就兩兩比較
		{
			if (data[i].age > data[j].age)
			{
				temp = data[i];
				data[i] = data[j];
				data[j] = temp;
		    }
		}
	}
}

void print_data(struct employee data[], int max) //印出資料
{
	for (int i = 0; i < max; i++)
	{
		printf("印出第%d位員工資料\n\n", i + 1);
		printf("印出第%d位員工名子:%s\n", i + 1,data[i].firstname);
		printf("印出第%d位員工姓氏:%s\n", i + 1, data[i].lastname);
		printf("印出第%d位員工年齡:%d\n", i + 1, data[i].age);
		printf("印出第%d位員工性別:%c\n", i + 1, data[i].gender);
		printf("印出第%d位員工薪水:%lf\n", i + 1, data[i].salary);
		printf("\n");
	}
}